(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,a){e.exports=a(270)},161:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},270:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(43),i=a.n(l),r=a(38),o=a(13),c=a(14),u=a(16),h=a(15),d=a(17),m=a(6),p=(a(161),a(63)),g=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{id:"myUL"},this.props.displayList.map(function(t,a){var n,l=t.text.diffDays;return 0===l?n="Today":l>0?n="".concat(l," days remaining"):l<0&&(n="".concat(Math.abs(l)," days before")),s.a.createElement("li",{key:a,className:t.text.status,id:t.id,onClick:function(t){return e.props.statusToggle(t)}},s.a.createElement("div",{className:"listTitle ".concat(t.text.status),id:t.id},t.text.name),s.a.createElement("span",{className:"dateTime",id:t.id},n," "),s.a.createElement("span",{className:"close",id:t.id,onClick:function(t){return e.props.handleDeleteList(t)}},"X"))}))}}]),t}(s.a.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Filter"},s.a.createElement("div",{className:"filterWrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"filterHeading"}," Filter "),s.a.createElement("div",{className:"selectWrapper"},s.a.createElement("select",{name:"filter",onChange:this.props.handleFilterChange},s.a.createElement("option",{name:"all",value:"Sort By Date Created"},"Sort By Date Created"),s.a.createElement("option",{name:"due",value:"Remaining Task"},"Sort By Due Date"),s.a.createElement("option",{name:"done",value:"All Done Task"},"All Done Task"),s.a.createElement("option",{name:"remaining",value:"Remaining Task"},"Remaining Task"))))))}}]),t}(n.Component),f=a(134).initializeApp({apiKey:"AIzaSyAESAZL26PsKLuD_FQz0oUigvvfByX8PUg",authDomain:"todolist-95.firebaseapp.com",databaseURL:"https://todolist-95.firebaseio.com",projectId:"todolist-95",storageBucket:"todolist-95.appspot.com",messagingSenderId:"481397984215"}),v=a(78),E=a.n(v),w=a(135),C=(a(261),a(136)),y=(a(266),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).listQueue=[],a.state={input:"",list:[],displayList:[],doneTasks:0,dueDate:null,showLoader:!0,filter:null},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleDateChange=a.handleDateChange.bind(Object(m.a)(Object(m.a)(a))),a.handleFilterChange=a.handleFilterChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleDeleteList=a.handleDeleteList.bind(Object(m.a)(Object(m.a)(a))),a.statusToggle=a.statusToggle.bind(Object(m.a)(Object(m.a)(a))),setTimeout(function(){a.setState({showLoader:!1})},3e3),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=f.auth().currentUser.uid;f.database().ref("users/"+t).on("value",function(a){null===a.val()&&f.database().ref("users/"+t).set({email:e.props.user.email})}),f.database().ref("users/"+t+"/list").orderByKey().limitToLast(100).on("child_added",function(t){var a={text:t.val(),id:t.key};e.listQueue.push(a),1===e.listQueue.length&&e.handleChildAddedQueue()})}},{key:"handleDateChange",value:function(e){var t=this;this.setState({dueDate:e},function(){console.log(t.state)})}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState({list:this.state.list,input:e.target.value})}},{key:"handleChildAddedQueue",value:function(){var e=this,t=this.listQueue.length,a=[].concat(Object(p.a)(this.state.list),Object(p.a)(this.listQueue)),n=a.filter(function(e,t){return"checked"===e.text.status}).length;a.forEach(function(e,t){var a=new Date,n=new Date(e.text.dueDate).getTime()-a.getTime(),s=Math.ceil(n/864e5);e.text.diffDays=s}),this.setState({list:a,displayList:a,doneTasks:n,showLoader:!1},function(){e.listQueue.splice(0,t),e.listQueue.length>0&&e.handleChildAddedQueue()})}},{key:"changeFilter",value:function(){var e;switch(this.state.optionName){case"done":e=this.state.list.filter(function(e,t){return"checked"===e.text.status});break;case"due":e=Object(p.a)(this.state.list).sort(function(e,t){return e.text.diffDays-t.text.diffDays});break;case"remaining":e=this.state.list.filter(function(e,t){return"checked"!==e.text.status});break;default:e=this.state.list}this.setState({displayList:e})}},{key:"handleFilterChange",value:function(e){var t=this;e.preventDefault();var a=e.target.selectedOptions[0];if(a){var n=a.getAttribute("name").toLowerCase();this.setState({optionName:n},function(){t.changeFilter()})}}},{key:"statusToggle",value:function(e){var t=this.state.list,a=e.target.id,n=t.find(function(e){return e.id===a});""===n.text.status?n.text.status="checked":n.text.status="";var s=t.filter(function(e,t){return"checked"===e.text.status}).length;this.setState({list:t,doneTasks:s}),this.changeFilter();var l=f.auth().currentUser.uid;f.database().ref("users/"+l+"/list/"+a).update({status:n.text.status})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.input){console.log("here"),this.currentInput={},this.currentInput.name=this.state.input,this.currentInput.status="";var a=this.state.dueDate.getMonth()+1+"/"+this.state.dueDate.getDate()+"/"+this.state.dueDate.getFullYear();this.currentInput.dueDate=a,this.setState({list:[].concat(Object(p.a)(this.state.list),[this.currentInput]),input:"",dueDate:null},function(){console.log(t.state)});var n=f.auth().currentUser.uid;f.database().ref("users/"+n+"/list").push(this.currentInput)}}},{key:"handleDeleteList",value:function(e){var t=this;e.stopPropagation();var a=e.target.id;Object(w.confirmAlert)({title:"Are you sure?",message:"You want to delete this task?",buttons:[{label:"Yes",onClick:function(){return t.deleteList(a)}},{label:"No",onClick:function(){return console.log("No")}}]})}},{key:"deleteList",value:function(e){console.log("deleteList"),console.log(e,this.state.list);var t=this.state.list.filter(function(t,a){return t.id!==e}),a=this.state.displayList.filter(function(t,a){return t.id!==e}),n=t.filter(function(e,t){return"checked"===e.status}).length;console.log(t);var s=f.auth().currentUser.uid;f.database().ref("users/"+s+"/list/"+e).remove(),this.setState({list:t,displayList:a,doneTasks:n})}},{key:"render",value:function(){return console.log(this.state),s.a.createElement("div",{className:"Home"},(this.props.user.displayName,s.a.createElement("div",{className:"header"},this.props.user.displayName.toUpperCase())),s.a.createElement("div",{className:"list"},s.a.createElement("div",{id:"myDIV",className:"header"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h2",null,"To Do List"),s.a.createElement("input",{type:"text",className:"addTaskInput",placeholder:"Add task...",onChange:this.handleChange,value:this.state.input,required:!0}),s.a.createElement("div",{className:""},s.a.createElement(C.a,{selected:this.state.dueDate,onChange:this.handleDateChange,className:"addDueDateInput",placeholderText:"Click to select a due date",required:!0})),s.a.createElement("input",{className:"addBtn",type:"submit",value:"Add"}))),this.state.showLoader?s.a.createElement("div",{className:"dataLoader"},s.a.createElement(E.a,{type:"Bars",color:"#00BFFF",height:"50",width:"50"})):0===this.state.list.length?s.a.createElement("h2",null,"No tasks"):s.a.createElement(s.a.Fragment,null,s.a.createElement(b,{list:this.state.list,handleFilterChange:this.handleFilterChange}),s.a.createElement(g,{displayList:this.state.displayList,handleDeleteList:this.handleDeleteList,statusToggle:this.statusToggle})),s.a.createElement("div",{className:"donetasks"},"Total done task:",this.state.doneTasks,"/",this.state.list.length)))}}]),t}(n.Component)),O=(a(267),a(91)),k=a(92),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;f.auth().signInWithEmailAndPassword(n,s).then(function(e){console.log("Login successfully",e)}).catch(function(e){console.log("Error occurred",e),a.setState({error:e.message}),"auth/wrong-password"===e.code?alert("Wrong password"):"auth/user-not-found"===e.code?alert("There is no user record corresponding to this email. Please signup or Login with Social Media"):alert(e.message)})},a.state={showSignup:a.props.showSignup,name:null,email:null,password:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Login"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h2",null,"Login with Social Media or Manually"),s.a.createElement("div",{className:"vl"},s.a.createElement("span",{className:"vl-innertext"},"or")),s.a.createElement("div",{className:"col"},s.a.createElement("button",{onClick:this.props.signInWithFacebook,className:"fb btn"},s.a.createElement(k.a,{icon:O.a})," Facebook"),s.a.createElement("button",{onClick:this.props.signInWithTwitter,className:"twitter btn"},s.a.createElement(k.a,{icon:O.c})," Twitter"),s.a.createElement("button",{onClick:this.props.signInWithGoogle,className:"google btn"},s.a.createElement(k.a,{icon:O.b})," Google+")),s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"hide-md-lg"},s.a.createElement("p",null,"Or sign in manually:")),s.a.createElement("form",null,s.a.createElement("input",{type:"email",name:"email",placeholder:"Email",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"submit",value:"Login",onClick:this.handleSubmit}))))),s.a.createElement("div",{className:"bottom-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn",onClick:function(){e.props.handleShowComponent("showSignup",!0)}},"Sign up")),s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn",onClick:function(){e.props.handleShowComponent("showFP",!0)}},"Forgot password?")))))}}]),t}(n.Component),S=(a(268),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;f.auth().createUserWithEmailAndPassword(n,s).then(function(e){return console.log("Signup successfully",e),e.user.updateProfile({displayName:a.state.name})}).catch(function(e){console.log("Error occurred",e),a.setState({error:e.message})})},a.state={showSignup:a.props.showSignup,name:null,email:null,password:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Signup"},s.a.createElement("form",{style:{border:"1px solid #ccc"}},s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"Sign Up"),s.a.createElement("h3",null,this.state.error),s.a.createElement("p",null,"Please fill in this form to create an account."),s.a.createElement("hr",null),s.a.createElement("input",{type:"text",placeholder:"Enter Name",name:"name",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"email",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"password",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",placeholder:"Repeat Password",name:"password-repeat",required:!0,onChange:this.handleChange}),s.a.createElement("div",{className:"clearfix"},s.a.createElement("button",{type:"submit",className:"signupbtn",onClick:this.handleSubmit},"Submit"),s.a.createElement("button",{type:"button",className:"cancelbtn",onClick:function(){e.props.handleShowComponent("showSignup",!1)}},"Cancel")))))}}]),t}(n.Component)),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={email:null,error:null},a.handleForgetPassword=a.handleForgetPassword.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleForgetPassword",value:function(){var e=this,t=this.state.email;f.auth().sendPasswordResetEmail(t).then(function(t){alert("Reset password link is sent to your email"),e.props.handleShowComponent("showFP",!1)}).catch(function(t){console.log("Error occurred",t),e.setState({error:t.message})})}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ForgetPassword Signup"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h2",null,"Forget Password"),s.a.createElement("h4",null,this.state.error),s.a.createElement("input",{type:"email",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChange}))),s.a.createElement("div",{className:"clearfix"},s.a.createElement("button",{type:"submit",className:"signupbtn",onClick:this.handleForgetPassword},"Submit"),s.a.createElement("button",{type:"button",className:"cancelbtn",onClick:function(){e.props.handleShowComponent("showFP",!1)}},"Cancel")))}}]),t}(n.Component),D=a(61),L=(a(269),a(155)),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={showLoader:!0,showSignup:!1,showFP:!1},a.handleShowComponent=a.handleShowComponent.bind(Object(m.a)(Object(m.a)(a))),setTimeout(function(){a.setState({showLoader:!1})},3e3),D.auth().onAuthStateChanged(function(e){e.hasOwnProperty("user")&&console.log("onAuthStateChanged",e),e?a.setState({showLoader:!1}):e.hasOwnProperty("user")&&(a.props.user=e.user)}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleShowComponent",value:function(e,t){this.setState(Object(r.a)({},e,t))}},{key:"render",value:function(){console.log("render");var e=this.props,t=e.user,a=e.signOut,n=e.signInWithFacebook,l=e.signInWithTwitter,i=e.signInWithGoogle;return s.a.createElement("div",{className:"App"},this.state.showLoader?s.a.createElement("div",{className:"loader"},s.a.createElement(E.a,{type:"Plane",color:"#ffa500",height:"100",width:"100"})):s.a.createElement(s.a.Fragment,null," ",t?s.a.createElement("button",{type:"button",className:"btn btn-default btn-sm logout",onClick:a},"Log out"):s.a.createElement("div",{id:"myDIV",className:"header"}," ",s.a.createElement("h2",{style:{margin:0}},"To Do List")," ")," ",t?s.a.createElement(y,{user:t}):this.state.showSignup||this.state.showFP?this.state.showFP?s.a.createElement(N,{handleShowComponent:this.handleShowComponent,user:t}):s.a.createElement(S,{handleShowComponent:this.handleShowComponent,user:t}):s.a.createElement(j,{signInWithFacebook:n,signInWithTwitter:l,signInWithGoogle:i,handleShowComponent:this.handleShowComponent})))}}]),t}(n.Component),T=f.auth(),P={facebookProvider:new D.auth.FacebookAuthProvider,twitterProvider:new D.auth.TwitterAuthProvider,googleProvider:new D.auth.GoogleAuthProvider},x=Object(L.a)({providers:P,firebaseAppAuth:T})(F);i.a.render(s.a.createElement(x,null),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.137e554f.chunk.js.map