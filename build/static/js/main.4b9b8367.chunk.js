(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(t,e,a){},157:function(t,e,a){"use strict";a.r(e);var n=a(2),s=a.n(n),i=a(69),o=a.n(i),l=(a(76),a(36)),r=a(37),c=a(40),u=a(38),d=a(39),h=a(7),p=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("ul",{id:"myUL"},this.props.list.map(function(e,a){return s.a.createElement("li",{key:a,className:e.text.status,onClick:function(){return t.props.statusToggle(a)}},e.text.name,s.a.createElement("span",{className:"close",onClick:function(e){return t.props.deleteList(e,a)}},"X"))}))}}]),e}(s.a.Component),f=a(70),m=a.n(f).a.initializeApp({apiKey:"AIzaSyAESAZL26PsKLuD_FQz0oUigvvfByX8PUg",authDomain:"todolist-95.firebaseapp.com",databaseURL:"https://todolist-95.firebaseio.com",projectId:"todolist-95",storageBucket:"todolist-95.appspot.com",messagingSenderId:"481397984215"}),g=(a(156),function(t){function e(t){var a;return Object(l.a)(this,e),console.log(m),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={input:"",list:[],doneTasks:0},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.deleteList=a.deleteList.bind(Object(h.a)(Object(h.a)(a))),a.statusToggle=a.statusToggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(e,t),Object(r.a)(e,[{key:"componentWillMount",value:function(){var t=this,e=m.database().ref("list").orderByKey().limitToLast(100);e.on("child_added",function(e){var a=[{text:e.val(),id:e.key}].concat(t.state.list),n=a.filter(function(t,e){return"checked"===t.text.status}).length;t.setState({list:a,doneTasks:n})}),e.on("child_changed",function(e){var a=-1;t.state.list.forEach(function(t,n){t.id==e.key&&(a=n)});var n={text:e.val(),id:e.key},s=t.state.list;s[a]=n;var i=s.filter(function(t,e){return"checked"===t.text.status}).length;t.setState({list:s,doneTasks:i})}),e.on("child_removed",function(e){var a=-1;t.state.list.forEach(function(t,n){t.id==e.key&&(a=n)});var n=t.state.list.filter(function(t,e){return e!==a}),s=n.filter(function(t,e){return"checked"===t.text.status}).length;t.setState({list:n,doneTasks:s})})}},{key:"handleChange",value:function(t){t.preventDefault(),this.setState({list:this.state.list,input:t.target.value})}},{key:"statusToggle",value:function(t){console.log(this.state);var e=this.state.list;""===e[t].text.status?e[t].text.status="checked":e[t].text.status="";e.filter(function(t,e){return"checked"===t.text.status}).length;this.setState({});var a=e[t].id;m.database().ref("list/"+a).update({status:e[t].text.status})}},{key:"handleSubmit",value:function(t){t.preventDefault(),""!==this.state.input&&(console.log("here"),this.currentInput={},this.currentInput.name=this.state.input,this.currentInput.status="",this.setState({input:""}),m.database().ref("list").push(this.currentInput))}},{key:"deleteList",value:function(t,e){t.stopPropagation(),console.log("deleteList");var a=this.state.list[e].id,n=this.state.list.filter(function(t,a){return a!==e});n.filter(function(t,e){return"checked"===t.status}).length;console.log(n),this.setState({}),m.database().ref("list/"+a).remove()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{id:"myDIV",className:"header"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h2",null,"My To Do List"),s.a.createElement("input",{type:"text",id:"myInput",placeholder:"Title...",onChange:this.handleChange,value:this.state.input}),s.a.createElement("input",{className:"addBtn",type:"submit",value:"Add"}))),s.a.createElement(p,{list:this.state.list,deleteList:this.deleteList,statusToggle:this.statusToggle}),s.a.createElement("div",{className:"donetasks"},"Total done task:",this.state.doneTasks,"/",this.state.list.length))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},71:function(t,e,a){t.exports=a(157)},76:function(t,e,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.4b9b8367.chunk.js.map