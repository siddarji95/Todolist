(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,a){},189:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(80),l=a.n(i),r=a(20),o=a(8),c=a(9),u=a(11),h=a(10),d=a(12),m=a(3),p=(a(88),a(47)),g=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{id:"myUL"},this.props.displayList.map(function(t,a){return s.a.createElement("li",{key:a,className:t.text.status,id:t.id,onClick:function(t){return e.props.statusToggle(t)}},s.a.createElement("div",{className:"listTitle ".concat(t.text.status),id:t.id},t.text.name),s.a.createElement("span",{className:"dateTime",id:t.id},t.text.dateTime," "),s.a.createElement("span",{className:"close",id:t.id,onClick:function(t){return e.props.deleteList(t)}},"X"))}))}}]),t}(s.a.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Filter"},s.a.createElement("div",{className:"filterWrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"filterHeading"}," Filter "),s.a.createElement("div",{className:"selectWrapper"},s.a.createElement("select",{name:"filter",onChange:this.props.handleFilterChange},s.a.createElement("option",{name:"all",value:"Sort By Date Created"},"Sort By Date Created"),s.a.createElement("option",{name:"done",value:"All Done Task"},"All Done Task"),s.a.createElement("option",{name:"remaining",value:"Remaining Task"},"Remaining Task"))))))}}]),t}(n.Component),f=a(81).initializeApp({apiKey:"AIzaSyAESAZL26PsKLuD_FQz0oUigvvfByX8PUg",authDomain:"todolist-95.firebaseapp.com",databaseURL:"https://todolist-95.firebaseio.com",projectId:"todolist-95",storageBucket:"todolist-95.appspot.com",messagingSenderId:"481397984215"}),v=a(44),E=a.n(v),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).listQueue=[],a.state={input:"",list:[],displayList:[],doneTasks:0,showLoader:!0,filter:null},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleFilterChange=a.handleFilterChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.deleteList=a.deleteList.bind(Object(m.a)(Object(m.a)(a))),a.statusToggle=a.statusToggle.bind(Object(m.a)(Object(m.a)(a))),setTimeout(function(){a.setState({showLoader:!1})},3e3),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=f.auth().currentUser.uid;f.database().ref("users/"+t).on("value",function(a){null===a.val()&&(console.log("siddharth"),f.database().ref("users/"+t).set({email:e.props.user.email}))});var a=f.database().ref("users/"+t+"/list").orderByKey().limitToLast(100);a.on("child_added",function(t){var a={text:t.val(),id:t.key};console.log(e.state.list,"outside",e.listQueue.length),e.listQueue.push(a),1===e.listQueue.length&&e.handleChildAddedQueue()}),a.on("child_changed",function(t){var a=-1;e.state.list.forEach(function(e,n){e.id===Number(t.key)&&(a=n)});var n={text:t.val(),id:t.key},s=e.state.list;s[a]=n;var i=s.filter(function(e,t){return"checked"===e.text.status}).length;e.setState({list:s,doneTasks:i})}),a.on("child_removed",function(t){var a=-1;e.state.list.forEach(function(e,n){e.id===Number(t.key)&&(a=n)});var n=e.state.list.filter(function(e,t){return t!==a}),s=n.filter(function(e,t){return"checked"===e.text.status}).length;e.setState({list:n,doneTasks:s})})}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState({list:this.state.list,input:e.target.value})}},{key:"handleChildAddedQueue",value:function(){var e=this,t=this.listQueue.length;console.log("handleChildAddedQueue",this.listQueue.length);var a=[].concat(Object(p.a)(this.state.list),Object(p.a)(this.listQueue)),n=a.filter(function(e,t){return"checked"===e.text.status}).length;this.setState({list:a,displayList:a,doneTasks:n,showLoader:!1},function(){e.listQueue.splice(0,t),e.listQueue.length>0&&e.handleChildAddedQueue()})}},{key:"changeFilter",value:function(){var e;switch(this.state.optionName){case"done":e=this.state.list.filter(function(e,t){return"checked"===e.text.status});break;case"remaining":e=this.state.list.filter(function(e,t){return"checked"!==e.text.status});break;default:e=this.state.list}console.log(e),this.setState({displayList:e})}},{key:"handleFilterChange",value:function(e){var t=this;e.preventDefault();var a=e.target.selectedOptions[0];if(a){var n=a.getAttribute("name").toLowerCase();this.setState({optionName:n},function(){t.changeFilter()})}}},{key:"statusToggle",value:function(e){var t=this.state.list,a=e.target.id,n=t.find(function(e){return e.id===a});""===n.text.status?n.text.status="checked":n.text.status="";var s=t.filter(function(e,t){return"checked"===e.text.status}).length;this.setState({list:t,doneTasks:s}),this.changeFilter();var i=f.auth().currentUser.uid;f.database().ref("users/"+i+"/list/"+a).update({status:n.text.status})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),""!==this.state.input){console.log("here"),this.currentInput={},this.currentInput.name=this.state.input,this.currentInput.status="";var t=new Date,a=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()+" "+(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds());this.currentInput.dateTime=a,this.setState({list:[].concat(Object(p.a)(this.state.list),[this.currentInput]),input:""});var n=f.auth().currentUser.uid;f.database().ref("users/"+n+"/list").push(this.currentInput)}}},{key:"deleteList",value:function(e,t){e.stopPropagation(),console.log("deleteList");var a=e.target.id;console.log(a,this.state.list);var n=this.state.list.filter(function(e,t){return e.id!==a}),s=this.state.displayList.filter(function(e,t){return e.id!==a}),i=n.filter(function(e,t){return"checked"===e.status}).length;console.log(n);var l=f.auth().currentUser.uid;f.database().ref("users/"+l+"/list/"+a).remove(),this.setState({list:n,displayList:s,doneTasks:i})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},(this.props.user.displayName,s.a.createElement("div",{className:"header"},this.props.user.displayName.toUpperCase())),s.a.createElement("div",{className:"list"},s.a.createElement("div",{id:"myDIV",className:"header"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h2",null,"To Do List"),s.a.createElement("input",{type:"text",id:"myInput",placeholder:"Add task...",onChange:this.handleChange,value:this.state.input}),s.a.createElement("input",{className:"addBtn",type:"submit",value:"Add"}))),this.state.showLoader?s.a.createElement("div",{className:"dataLoader"},s.a.createElement(E.a,{type:"Bars",color:"#00BFFF",height:"50",width:"50"})):0===this.state.list.length?s.a.createElement("h2",null,"No tasks"):s.a.createElement(s.a.Fragment,null,s.a.createElement(b,{list:this.state.list,handleFilterChange:this.handleFilterChange}),s.a.createElement(g,{displayList:this.state.displayList,deleteList:this.deleteList,statusToggle:this.statusToggle})),s.a.createElement("div",{className:"donetasks"},"Total done task:",this.state.doneTasks,"/",this.state.list.length)))}}]),t}(n.Component),C=(a(188),a(45)),y=a(46),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;f.auth().signInWithEmailAndPassword(n,s).then(function(e){console.log("Login successfully",e)}).catch(function(e){console.log("Error occurred",e),a.setState({error:e.message}),"auth/wrong-password"===e.code?alert("Wrong password"):"auth/user-not-found"===e.code?alert("There is no user record corresponding to this email. Please signup or Login with Social Media"):alert(e.message)})},a.state={showSignup:a.props.showSignup,name:null,email:null,password:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Login"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h2",null,"Login with Social Media or Manually"),s.a.createElement("div",{className:"vl"},s.a.createElement("span",{className:"vl-innertext"},"or")),s.a.createElement("div",{className:"col"},s.a.createElement("button",{onClick:this.props.signInWithFacebook,className:"fb btn"},s.a.createElement(y.a,{icon:C.a})," Login with Facebook"),s.a.createElement("button",{onClick:this.props.signInWithTwitter,className:"twitter btn"},s.a.createElement(y.a,{icon:C.c})," Login with Twitter"),s.a.createElement("button",{onClick:this.props.signInWithGoogle,className:"google btn"},s.a.createElement(y.a,{icon:C.b})," Login with Google+")),s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"hide-md-lg"},s.a.createElement("p",null,"Or sign in manually:")),s.a.createElement("form",null,s.a.createElement("input",{type:"email",name:"email",placeholder:"Email",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"submit",value:"Login",onClick:this.handleSubmit}))))),s.a.createElement("div",{className:"bottom-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn",onClick:function(){e.props.handleShowComponent("showSignup",!0)}},"Sign up")),s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn",onClick:function(){e.props.handleShowComponent("showFP",!0)}},"Forgot password?")))))}}]),t}(n.Component),O=(a(189),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;f.auth().createUserWithEmailAndPassword(n,s).then(function(e){return console.log("Signup successfully",e),e.user.updateProfile({displayName:a.state.name})}).catch(function(e){console.log("Error occurred",e),a.setState({error:e.message})})},a.state={showSignup:a.props.showSignup,name:null,email:null,password:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Signup"},s.a.createElement("form",{style:{border:"1px solid #ccc"}},s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"Sign Up"),s.a.createElement("h3",null,this.state.error),s.a.createElement("p",null,"Please fill in this form to create an account."),s.a.createElement("hr",null),s.a.createElement("input",{type:"text",placeholder:"Enter Name",name:"name",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"email",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"password",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",placeholder:"Repeat Password",name:"password-repeat",required:!0,onChange:this.handleChange}),s.a.createElement("div",{className:"clearfix"},s.a.createElement("button",{type:"submit",className:"signupbtn",onClick:this.handleSubmit},"Submit"),s.a.createElement("button",{type:"button",className:"cancelbtn",onClick:function(){e.props.handleShowComponent("showSignup",!1)}},"Cancel")))))}}]),t}(n.Component)),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={email:null,error:null},a.handleForgetPassword=a.handleForgetPassword.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleForgetPassword",value:function(){var e=this,t=this.state.email;f.auth().sendPasswordResetEmail(t).then(function(t){alert("Reset password link is sent to your email"),e.props.handleShowComponent("showFP",!1)}).catch(function(t){console.log("Error occurred",t),e.setState({error:t.message})})}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ForgetPassword"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h2",null,"Forget Password"),s.a.createElement("h4",null,this.state.error),s.a.createElement("input",{type:"email",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChange}))),s.a.createElement("div",{className:"clearfix"},s.a.createElement("button",{type:"submit",className:"signupbtn",onClick:this.handleForgetPassword},"Submit"),s.a.createElement("button",{type:"button",className:"cancelbtn",onClick:function(){e.props.handleShowComponent("showFP",!1)}},"Cancel")))}}]),t}(n.Component),j=a(29),N=(a(190),a(82)),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={showLoader:!0,showSignup:!1,showFP:!1},a.handleShowComponent=a.handleShowComponent.bind(Object(m.a)(Object(m.a)(a))),setTimeout(function(){a.setState({showLoader:!1})},3e3),j.auth().onAuthStateChanged(function(e){e.hasOwnProperty("user")&&console.log("onAuthStateChanged",e),e?a.setState({showLoader:!1}):e.hasOwnProperty("user")&&(a.props.user=e.user)}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleShowComponent",value:function(e,t){this.setState(Object(r.a)({},e,t))}},{key:"render",value:function(){console.log("render");var e=this.props,t=e.user,a=e.signOut,n=e.signInWithFacebook,i=e.signInWithTwitter,l=e.signInWithGoogle;return s.a.createElement("div",{className:"App"},this.state.showLoader?s.a.createElement("div",{className:"loader"},s.a.createElement(E.a,{type:"Plane",color:"#ffa500",height:"100",width:"100"})):s.a.createElement(s.a.Fragment,null," ",t?s.a.createElement("button",{type:"button",className:"btn btn-default btn-sm logout",onClick:a},"Log out"):s.a.createElement("div",{id:"myDIV",className:"header"}," ",s.a.createElement("h2",{style:{margin:0}},"To Do List")," ")," ",t?s.a.createElement(w,{user:t}):this.state.showSignup||this.state.showFP?this.state.showFP?s.a.createElement(S,{handleShowComponent:this.handleShowComponent,user:t}):s.a.createElement(O,{handleShowComponent:this.handleShowComponent,user:t}):s.a.createElement(k,{signInWithFacebook:n,signInWithTwitter:i,signInWithGoogle:l,handleShowComponent:this.handleShowComponent})))}}]),t}(n.Component),F=f.auth(),P={facebookProvider:new j.auth.FacebookAuthProvider,twitterProvider:new j.auth.TwitterAuthProvider,googleProvider:new j.auth.GoogleAuthProvider},T=Object(N.a)({providers:P,firebaseAppAuth:F})(L);l.a.render(s.a.createElement(T,null),document.getElementById("root"))},83:function(e,t,a){e.exports=a(191)},88:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.433b726d.chunk.js.map