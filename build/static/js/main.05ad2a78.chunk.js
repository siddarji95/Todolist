(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(79),r=a.n(o),l=(a(88),a(20)),i=a(8),c=a(9),u=a(12),h=a(10),d=a(11),m=a(3),p=a(82),g=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{id:"myUL"},this.props.list.map(function(t,a){return console.log(t,a),s.a.createElement("li",{key:a,className:t.text.status,onClick:function(){return e.props.statusToggle(a)}},s.a.createElement("div",{className:"listTitle ".concat(t.text.status)},t.text.name),s.a.createElement("span",{className:"dateTime"},t.text.dateTime),s.a.createElement("span",{className:"close",onClick:function(t){return e.props.deleteList(t,a)}},"X"))}))}}]),t}(s.a.Component),b=a(80).initializeApp({apiKey:"AIzaSyAESAZL26PsKLuD_FQz0oUigvvfByX8PUg",authDomain:"todolist-95.firebaseapp.com",databaseURL:"https://todolist-95.firebaseio.com",projectId:"todolist-95",storageBucket:"todolist-95.appspot.com",messagingSenderId:"481397984215"}),f=a(44),v=a.n(f),w=(a(188),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={input:"",list:[],doneTasks:0,showLoader:!0},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.deleteList=a.deleteList.bind(Object(m.a)(Object(m.a)(a))),a.statusToggle=a.statusToggle.bind(Object(m.a)(Object(m.a)(a))),setTimeout(function(){a.setState({showLoader:!1})},3e3),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=b.auth().currentUser.uid;b.database().ref("users/"+t).on("value",function(a){null===a.val()&&(console.log("siddharth"),b.database().ref("users/"+t).set({email:e.props.user.email}))});var a=b.database().ref("users/"+t+"/list").orderByKey().limitToLast(100);console.log(a),a.on("child_added",function(t){console.log(t.val());var a=[{text:t.val(),id:t.key}].concat(e.state.list),n=a.filter(function(e,t){return"checked"===e.text.status}).length;e.setState({list:a,doneTasks:n,showLoader:!1})}),a.on("child_changed",function(t){var a=-1;e.state.list.forEach(function(e,n){e.id===Number(t.key)&&(a=n)});var n={text:t.val(),id:t.key},s=e.state.list;s[a]=n;var o=s.filter(function(e,t){return"checked"===e.text.status}).length;e.setState({list:s,doneTasks:o})}),a.on("child_removed",function(t){var a=-1;e.state.list.forEach(function(e,n){e.id===Number(t.key)&&(a=n)});var n=e.state.list.filter(function(e,t){return t!==a}),s=n.filter(function(e,t){return"checked"===e.text.status}).length;e.setState({list:n,doneTasks:s})})}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState({list:this.state.list,input:e.target.value})}},{key:"statusToggle",value:function(e){console.log(this.state);var t=this.state.list;""===t[e].text.status?t[e].text.status="checked":t[e].text.status="";var a=t.filter(function(e,t){return"checked"===e.text.status}).length;this.setState({list:t,doneTasks:a});var n=t[e].id,s=b.auth().currentUser.uid;b.database().ref("users/"+s+"/list/"+n).update({status:t[e].text.status})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),""!==this.state.input){console.log("here"),this.currentInput={},this.currentInput.name=this.state.input,this.currentInput.status="";var t=new Date,a=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear()+" "+(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds());this.currentInput.dateTime=a,this.setState({list:[].concat(Object(p.a)(this.state.list),[this.currentInput]),input:""});var n=b.auth().currentUser.uid;b.database().ref("users/"+n+"/list").push(this.currentInput)}}},{key:"deleteList",value:function(e,t){e.stopPropagation(),console.log("deleteList");var a=this.state.list[t].id,n=this.state.list.filter(function(e,a){return a!==t}),s=n.filter(function(e,t){return"checked"===e.status}).length;console.log(n),this.setState({list:n,doneTasks:s});var o=b.auth().currentUser.uid;b.database().ref("users/"+o+"/list/"+a).remove()}},{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},(this.props.user.displayName,s.a.createElement("div",{className:"header"},this.props.user.displayName.toUpperCase())),s.a.createElement("div",{className:"list"},s.a.createElement("div",{id:"myDIV",className:"header"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h2",null,"To Do List"),s.a.createElement("input",{type:"text",id:"myInput",placeholder:"Add task...",onChange:this.handleChange,value:this.state.input}),s.a.createElement("input",{className:"addBtn",type:"submit",value:"Add"}))),this.state.showLoader?s.a.createElement("div",{className:"dataLoader"},s.a.createElement(v.a,{type:"Bars",color:"#00BFFF",height:"50",width:"50"})):0===this.state.list.length?s.a.createElement("h2",null,"No tasks"):s.a.createElement(g,{list:this.state.list,deleteList:this.deleteList,statusToggle:this.statusToggle}),s.a.createElement("div",{className:"donetasks"},"Total done task:",this.state.doneTasks,"/",this.state.list.length)))}}]),t}(n.Component)),E=(a(189),a(45)),C=a(46),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;b.auth().signInWithEmailAndPassword(n,s).then(function(e){console.log("Login successfully",e)}).catch(function(e){console.log("Error occurred",e),a.setState({error:e.message}),"auth/wrong-password"===e.code?alert("Wrong password"):"auth/user-not-found"===e.code?alert("There is no user record corresponding to this email. Please signup or Login with Social Media"):alert(e.message)})},a.state={showSignup:a.props.showSignup,name:null,email:null,password:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Login"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h2",null,"Login with Social Media or Manually"),s.a.createElement("div",{className:"vl"},s.a.createElement("span",{className:"vl-innertext"},"or")),s.a.createElement("div",{className:"col"},s.a.createElement("button",{onClick:this.props.signInWithFacebook,className:"fb btn"},s.a.createElement(C.a,{icon:E.a})," Login with Facebook"),s.a.createElement("button",{onClick:this.props.signInWithTwitter,className:"twitter btn"},s.a.createElement(C.a,{icon:E.c})," Login with Twitter"),s.a.createElement("button",{onClick:this.props.signInWithGoogle,className:"google btn"},s.a.createElement(C.a,{icon:E.b})," Login with Google+")),s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"hide-md-lg"},s.a.createElement("p",null,"Or sign in manually:")),s.a.createElement("form",null,s.a.createElement("input",{type:"email",name:"email",placeholder:"Email",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"submit",value:"Login",onClick:this.handleSubmit}))))),s.a.createElement("div",{className:"bottom-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn",onClick:function(){e.props.handleShowComponent("showSignup",!0)}},"Sign up")),s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn",onClick:function(){e.props.handleShowComponent("showFP",!0)}},"Forgot password?")))))}}]),t}(n.Component),k=(a(190),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,s=t.password;b.auth().createUserWithEmailAndPassword(n,s).then(function(e){return console.log("Signup successfully",e),e.user.updateProfile({displayName:a.state.name})}).catch(function(e){console.log("Error occurred",e),a.setState({error:e.message})})},a.state={showSignup:a.props.showSignup,name:null,email:null,password:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Signup"},s.a.createElement("form",{style:{border:"1px solid #ccc"}},s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,"Sign Up"),s.a.createElement("h3",null,this.state.error),s.a.createElement("p",null,"Please fill in this form to create an account."),s.a.createElement("hr",null),s.a.createElement("input",{type:"text",placeholder:"Enter Name",name:"name",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"email",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"password",required:!0,onChange:this.handleChange}),s.a.createElement("input",{type:"password",placeholder:"Repeat Password",name:"password-repeat",required:!0,onChange:this.handleChange}),s.a.createElement("div",{className:"clearfix"},s.a.createElement("button",{type:"submit",className:"signupbtn",onClick:this.handleSubmit},"Submit"),s.a.createElement("button",{type:"button",className:"cancelbtn",onClick:function(){e.props.handleShowComponent("showSignup",!1)}},"Cancel")))))}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={email:null,error:null},a.handleForgetPassword=a.handleForgetPassword.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleForgetPassword",value:function(){var e=this,t=this.state.email;b.auth().sendPasswordResetEmail(t).then(function(t){alert("Reset password link is sent to your email"),e.props.handleShowComponent("showFP",!1)}).catch(function(t){console.log("Error occurred",t),e.setState({error:t.message})})}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ForgetPassword"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h2",null,"Forget Password"),s.a.createElement("h4",null,this.state.error),s.a.createElement("input",{type:"email",placeholder:"Enter Email",name:"email",required:!0,onChange:this.handleChange}))),s.a.createElement("div",{className:"clearfix"},s.a.createElement("button",{type:"submit",className:"signupbtn",onClick:this.handleForgetPassword},"Submit"),s.a.createElement("button",{type:"button",className:"cancelbtn",onClick:function(){e.props.handleShowComponent("showFP",!1)}},"Cancel")))}}]),t}(n.Component),O=a(29),j=(a(191),a(81)),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={showLoader:!0,showSignup:!1,showFP:!1},a.handleShowComponent=a.handleShowComponent.bind(Object(m.a)(Object(m.a)(a))),setTimeout(function(){a.setState({showLoader:!1})},3e3),O.auth().onAuthStateChanged(function(e){e.hasOwnProperty("user")&&console.log("onAuthStateChanged",e),e?a.setState({showLoader:!1}):e.hasOwnProperty("user")&&(a.props.user=e.user)}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleShowComponent",value:function(e,t){this.setState(Object(l.a)({},e,t))}},{key:"render",value:function(){console.log("render");var e=this.props,t=e.user,a=e.signOut,n=e.signInWithFacebook,o=e.signInWithTwitter,r=e.signInWithGoogle;return s.a.createElement("div",{className:"App"},this.state.showLoader?s.a.createElement("div",{className:"loader"},s.a.createElement(v.a,{type:"Plane",color:"#ffa500",height:"100",width:"100"})):s.a.createElement(s.a.Fragment,null," ",t?s.a.createElement("button",{type:"button",className:"btn btn-default btn-sm logout",onClick:a},"Log out"):s.a.createElement("div",{id:"myDIV",className:"header"}," ",s.a.createElement("h2",{style:{margin:0}},"To Do List")," ")," ",t?s.a.createElement(w,{user:t}):this.state.showSignup||this.state.showFP?this.state.showFP?s.a.createElement(y,{handleShowComponent:this.handleShowComponent,user:t}):s.a.createElement(k,{handleShowComponent:this.handleShowComponent,user:t}):s.a.createElement(S,{signInWithFacebook:n,signInWithTwitter:o,signInWithGoogle:r,handleShowComponent:this.handleShowComponent})))}}]),t}(n.Component),P=b.auth(),L={facebookProvider:new O.auth.FacebookAuthProvider,twitterProvider:new O.auth.TwitterAuthProvider,googleProvider:new O.auth.GoogleAuthProvider},T=Object(j.a)({providers:L,firebaseAppAuth:P})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,a){e.exports=a(192)},88:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.05ad2a78.chunk.js.map