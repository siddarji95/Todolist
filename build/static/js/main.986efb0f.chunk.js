(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){e.exports=a.p+"static/media/Login.d3c2beee.jpg"},176:function(e,t,a){e.exports=a.p+"static/media/googleIcon.45aebcf8.svg"},210:function(e,t,a){e.exports=a(312)},309:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),c=a.n(o),i=a(59),l=a(6),s=a(7),u=a(23),m=a(21),d=a(22),p=a(76),f=a(36),h=a(174),g=Object(h.a)(),b=a(389),E=a(384),v=a(391),O=a(387),j=a(394),y=a(388),D=a(370),x=a(390),T=a(392),w=a(378),k=a(395),L=a(380),S=a(374),C=a(83),A=a.n(C),I=a(191),N=a(382),F=a(175),_=a.n(F),P=a(176),U=a.n(P),W=a(57);function R(e){return n.createElement(v.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",n.createElement(O.a,{color:"inherit",href:""},"Todolist")," ",(new Date).getFullYear(),".")}var B=Object(I.a)();function Y(e){var t=Object(f.f)();console.log(t);var a=new W.a;return n.createElement(N.a,{theme:B},n.createElement(j.a,null),n.createElement(y.a,{container:!0,component:"main",sx:{height:"100vh"}},n.createElement(D.a,null),n.createElement(y.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(".concat(_.a,")"),backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),n.createElement(y.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0},n.createElement(T.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"}},n.createElement(b.a,{sx:{m:1,bgcolor:"secondary.main"}},n.createElement(A.a,null)),n.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),n.createElement(T.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),a=t.get("email"),n=t.get("password"),r=Object(W.b)();Object(W.d)(r,a,n).then(function(e){var t=e.user;console.log("Login successfully",t)}).catch(function(e){console.log("Error occurred",e),"auth/wrong-password"===e.code?alert("Wrong password"):"auth/user-not-found"===e.code?alert("There is no user record corresponding to this email. Please signup or Login with Social Media"):alert(e.message)})},sx:{mt:1}},n.createElement(w.a,{type:"email",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),n.createElement(w.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),n.createElement(k.a,{control:n.createElement(L.a,{value:"remember",color:"primary"}),label:"Remember me"}),n.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign In")),n.createElement(y.a,{container:!0},n.createElement(y.a,{item:!0,xs:!0},n.createElement(O.a,{component:"button",variant:"body2",onClick:function(){t.push("/forgetPassword")}},"Forgot password?")),n.createElement(y.a,{item:!0},n.createElement(O.a,{component:"button",variant:"body2",onClick:function(){t.push("/signup")}},"Don't have an account? Sign Up"))),n.createElement(S.a,{sx:{mt:2},flexItem:!0},"OR"),n.createElement(y.a,{container:!0,sx:{mt:3,mb:2,justifyContent:"center",alignItems:"center"}},n.createElement(y.a,{item:!0,onClick:function(){!function(e){var a=Object(W.b)();Object(W.e)(a,e).then(function(e){console.log("Login Successfully",e.user.displayName),t.push("/home")}).catch(function(e){throw new Error(e)})}(a)},sx:{display:"flex",border:"1px solid #dadce0",borderRadius:"20px",justifyContent:"center",alignItems:"center",cursor:"pointer",p:.8}},n.createElement(T.a,{sx:{display:"flex",alignItems:"center"}},n.createElement("img",{src:U.a,alt:"googleIcon",height:25,width:25})),n.createElement(v.a,{sx:{pr:5.2,pl:2,color:"#3c4043",fontWeight:"500"}},"Continue with Google"))),n.createElement(R,{sx:{mt:5}})))))}var q=a(16),G=a(393),M=a(383),z=a(381),H=n.forwardRef(function(e,t){return n.createElement(z.a,Object.assign({elevation:6,ref:t,variant:"filled"},e))});function J(e){console.log(e);var t=e.openNotification,a=e.setOpenNotification,r=function(e){a(!1)};return n.createElement(M.a,{open:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:6e3,onClose:r},n.createElement(H,{onClose:r,severity:"success",sx:{width:"100%"}},e.message))}var K=a(46),V=function(e){return{type:"UPDATE_APP_STATE",state:e}},X=function(e){return{type:"UPDATE_TODO_STATE",state:e}},Q="all",Z=void 0,$=Object(i.b)(function(e){return{app:e.app}},function(e){return{dispatch:e}})(function(){var e=Object(f.f)(),t=n.useState(""),a=Object(q.a)(t,2),r=a[0],o=a[1],c=n.useState(!1),i=Object(q.a)(c,2),l=i[0],s=i[1];return n.createElement(G.a,{component:"main",maxWidth:"xs"},n.createElement(D.a,null),n.createElement(T.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},n.createElement(b.a,{sx:{m:1,bgcolor:"secondary.main"}},n.createElement(A.a,null)),n.createElement(v.a,{component:"h1",variant:"h5"},"Sign up"),n.createElement(T.a,{component:"form",onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget),n=a.get("name"),r=a.get("email"),c=a.get("password"),i=Object(K.c)();Object(K.b)(i,r,c).then(function(t){return console.log("Signup successfully",t,n),s(!0),o("Signup successfully."),setTimeout(function(){e.push("/")},3e3),Object(K.i)(i.currentUser,{displayName:n}).then(function(){console.log("user profile updated",Z.state.name),Z.props.dispatch(V({user:i.currentUser}))}).catch(function(e){})}).catch(function(e){console.log(e),"auth/email-already-in-use"===e.code&&(s(!0),o("The email already in use."))})},sx:{mt:3}},n.createElement(y.a,{container:!0,spacing:2},n.createElement(y.a,{item:!0,xs:12},n.createElement(w.a,{autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0})),n.createElement(y.a,{item:!0,xs:12},n.createElement(w.a,{type:"email",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),n.createElement(y.a,{item:!0,xs:12},n.createElement(w.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",inputProps:{minLength:6}}))),n.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign Up"),n.createElement(y.a,{container:!0,justifyContent:"flex-end"},n.createElement(y.a,{item:!0},n.createElement(O.a,{component:"button",variant:"body2",onClick:function(){e.push("/login")}},"Already have an account? Sign in"))))),n.createElement(J,{message:r,openNotification:l,setOpenNotification:s}))}),ee=a(25),te=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Filter"},r.a.createElement("div",{className:"filterWrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"filterHeading"}," Filter "),r.a.createElement("div",{className:"selectWrapper"},r.a.createElement("select",{name:"filter",onChange:this.props.handleFilterChange},r.a.createElement("option",{name:"all",value:"Sort By Date Created"},"Sort By Date Created"),r.a.createElement("option",{name:"due",value:"Remaining Task"},"Sort By Due Date"),r.a.createElement("option",{name:"done",value:"All Done Task"},"All Done Task"),r.a.createElement("option",{name:"remaining",value:"Remaining Task"},"Remaining Task"))))))}}]),t}(n.Component),ae=a(396),ne=a(37),re=a(184),oe=a.n(re),ce=Object(i.b)(function(e){return{todos:e.todos}},function(e){return{addDueDate:function(t){e(function(e){return{type:"ADD_DUE_DATE",date:e}}(t))},dispatch:e}})(function(e){var t=Object(n.useState)(""),a=Object(q.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)(function(){if(e.todos.currentTodoData){var t=Object(K.c)().currentUser.uid,a=Object(ne.c)(),n=Object(ne.f)(a,"users/"+t+"/list"),r=Object(ne.e)(n);Object(ne.h)(r,e.todos.currentTodoData)}},[e.todos.currentTodoData]);return r.a.createElement(T.a,{sx:{width:"50%"}},r.a.createElement(j.a,null),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),o.trim()&&(e.dispatch(function(e){return function(t){return t({type:"ADD_TODO",input:e}),Promise.resolve()}}(o)),c(""))}},r.a.createElement(ae.a,{spacing:2,margin:2},r.a.createElement(w.a,{style:{background:"white",borderRadius:"10px"},label:"Add task",variant:"outlined",onChange:function(e){c(e.target.value)},value:o,required:!0}),r.a.createElement("div",{className:""},r.a.createElement(oe.a,{selected:e.todos.dueDate,onChange:e.addDueDate,className:"addDueDateInput",placeholderText:"MM/DD/YYYY",required:!0})),r.a.createElement(E.a,{sx:{width:"110px"},type:"submit",variant:"contained"},"Add"))))}),ie=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list"},r.a.createElement("ul",null,this.props.displayList.map(function(t,a){var n,o=t.text.diffDays;return 0===o?n="Today":o>0?n="".concat(o," days remaining"):o<0&&(n="".concat(Math.abs(o)," days before")),r.a.createElement("li",{key:a,className:t.text.status,title:"Click to mark as done",id:t.id,onClick:function(t){return e.props.statusToggle(t)}},r.a.createElement("div",{className:"listTitle ".concat(t.text.status),id:t.id},t.text.name),r.a.createElement("span",{className:"dateTime",id:t.id,title:t.text.dueDate},n," "),r.a.createElement("span",{className:"close",id:t.id,onClick:function(t){return e.props.handleDeleteList(t)}},"X"))})))}}]),t}(r.a.Component),le=a(143),se=a.n(le),ue=a(187),me=(a(307),a(308),Object(i.b)(function(e){return{todos:e.todos,visibilityFilter:e.visibilityFilter}},function(e){return{dispatch:e}})(function(e){var t=[],a=Object(K.c)();Object(n.useEffect)(function(){if(a.currentUser){var n=a.currentUser.uid,r=Object(ne.c)(),c=Object(ne.f)(Object(ne.c)());Object(ne.b)(Object(ne.a)(c,"users/".concat(n))).then(function(t){t.exists()?(console.log(t.val()),Object(ne.h)(Object(ne.f)(r,"users/"+n),{email:e.user.email})):console.log("No data available")}).catch(function(e){console.error(e)});var i=Object(ne.f)(r,"users/"+n+"/list");Object(ne.d)(i,function(e){var a={text:e.val(),id:e.key};console.log(a),t.push(a),t.length>0&&o()})}},[a.currentUser]),Object(n.useEffect)(function(){if(e.todos.statusToggleData){var t=Object(ne.c)(),a=Object(K.c)().currentUser.uid,n=Object(ne.f)(t,"users/"+a+"/list/"+e.todos.statusToggleData.id);Object(ne.h)(n,{status:e.todos.statusToggleData.text.status})}},[e.todos.statusToggleData]),Object(n.useEffect)(function(){var t;switch(e.visibilityFilter){case"done":t=e.todos.list.filter(function(e,t){return"checked"===e.text.status});break;case"due":t=Object(ee.a)(e.todos.list).sort(function(e,t){return e.text.diffDays-t.text.diffDays});break;case"remaining":t=e.todos.list.filter(function(e,t){return"checked"!==e.text.status});break;default:t=e.todos.list}console.log(t),e.dispatch(X({displayList:t}))},[e.visibilityFilter]);var o=function(){var a,n=[].concat(t);console.log("here",e.todos.list),(a=console).log.apply(a,t);var r=n.filter(function(e,t){return"checked"===e.text.status}).length;n.forEach(function(e,t){var a=new Date,n=new Date(e.text.dueDate).getTime()-a.getTime(),r=Math.ceil(n/864e5);e.text.diffDays=r}),e.dispatch(X({list:n,displayList:n,doneTasks:r,showListLoader:!1}))};return r.a.createElement("div",null,r.a.createElement(ce,null),r.a.createElement("div",{className:"listWrapper"},e.todos.showListLoader?r.a.createElement("div",{className:"dataLoader"},r.a.createElement(se.a,{type:"Bars",color:"#00BFFF",height:"50",width:"50"})):0===e.todos.list.length?r.a.createElement("h2",null,"No tasks"):r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{list:e.todos.list,handleFilterChange:function(t){t.preventDefault();var a=t.target.selectedOptions[0];if(a){var n,r=a.getAttribute("name").toLowerCase();e.dispatch((n=r,function(e){return e({type:"SET_VISIBILITY_FILTER",filter:n}),Promise.resolve()}))}}}),r.a.createElement(ie,{displayList:e.todos.displayList,handleDeleteList:function(t){t.stopPropagation();var a=t.target.id;Object(ue.confirmAlert)({title:"Are you sure?",message:"You want to delete this task?",buttons:[{label:"Yes",onClick:function(){e.dispatch(function(e){return{type:"DELETE_LIST",id:e}}(a));var t=Object(ne.c)(),n=Object(K.c)().currentUser.uid,r=Object(ne.f)(t,"users/"+n+"/list/"+a);Object(ne.g)(r)}},{label:"No",onClick:function(){return console.log("No")}}]})},statusToggle:function(t){var a=t.target.id;e.dispatch(function(e){return function(t){return t({type:"STATUS_TOGGLE_TODO",id:e}),Promise.resolve()}}(a))}}))),r.a.createElement("div",{className:"donetasks"},"Total done task:",e.todos.doneTasks,"/",e.todos.list.length))})),de=(a(309),a(188)),pe={apiKey:"AIzaSyAESAZL26PsKLuD_FQz0oUigvvfByX8PUg",authDomain:"todolist-95.firebaseapp.com",databaseURL:"https://todolist-95.firebaseio.com",projectId:"todolist-95",storageBucket:"todolist-95.appspot.com",messagingSenderId:"481397984215"},fe=a(375),he=a(376),ge=a(398),be=a(377),Ee=a(397),ve=a(190),Oe=a(385);function je(e){var t=e.children,a=e.window,r=Object(fe.a)({target:a?a():void 0});return n.createElement(he.a,{appear:!1,direction:"down",in:!r},t)}function ye(e){var t=Object(f.f)(),a=e.user,r=e.handleLogOut;console.log(t);var o=n.useState(null),c=Object(q.a)(o,2),i=c[0],l=c[1],s=function(){l(null)};return n.createElement(n.Fragment,null,n.createElement(je,null,n.createElement(ge.a,null,n.createElement(G.a,{maxWidth:"xl"},n.createElement(j.a,{disableGutters:!0},n.createElement(v.a,{variant:"h6",component:"div",onClick:function(){window.location.href="/"},sx:{flexGrow:1}},"Todo List"),a&&n.createElement(T.a,{sx:{flexGrow:0}},n.createElement(be.a,{title:"Open settings"},n.createElement(Ee.a,{onClick:function(e){l(e.currentTarget)},sx:{p:0}},n.createElement(b.a,null))),n.createElement(ve.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(i),onClose:s},n.createElement(Oe.a,{onClick:s},n.createElement(v.a,{textAlign:"center",onClick:r},"Logout")))))))))}var De=Object(i.b)(function(e){return{app:e.app}},function(e){return{dispatch:e}})(function(e){var t=Object(f.f)();de.a(pe),Object(n.useEffect)(function(){setTimeout(function(){e.dispatch(V({showAppLoader:!1}))},3e3);var a=Object(W.b)();Object(W.c)(a,function(a){a?(e.dispatch(V({user:a,showAppLoader:!1})),t.push("/home")):t.push("/login")})},[t]);var a=e.app.user;return r.a.createElement(ye,{user:a,handleLogOut:function(){var a=Object(W.b)();Object(W.f)(a).then(function(){e.dispatch(V({user:null})),e.dispatch(X({list:[],displayList:[],doneTasks:0,showListLoader:!0})),t.push("/login")}).catch(function(e){throw new Error(e)})}})});function xe(){var e=Object(f.f)(),t=n.useState(""),a=Object(q.a)(t,2),r=a[0],o=a[1],c=n.useState(!1),i=Object(q.a)(c,2),l=i[0],s=i[1];return n.createElement(G.a,{component:"main",maxWidth:"xs"},n.createElement(D.a,null),n.createElement(T.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},n.createElement(b.a,{sx:{m:1,bgcolor:"secondary.main"}},n.createElement(A.a,null)),n.createElement(v.a,{component:"h1",variant:"h5"},"Reset Your Password"),n.createElement(T.a,{component:"form",onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget).get("email"),n=Object(K.c)();Object(K.e)(n,a).then(function(t){s(!0),o("Reset password link is sent to your email."),setTimeout(function(){e.push("/")},3e3)}).catch(function(e){console.log("Error occurred",e),o("Error occurred.")})},sx:{mt:1}},n.createElement(w.a,{type:"email",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),n.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Reset Password"))),n.createElement(J,{message:r,openNotification:l,setOpenNotification:s}))}var Te=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{history:g},r.a.createElement(f.a,{path:"/",component:De}),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/login",component:Y}),r.a.createElement(f.a,{path:"/signup",component:$}),r.a.createElement(f.a,{path:"/home",component:me}),r.a.createElement(f.a,{path:"/forgetPassword",component:xe})))}}]),t}(n.Component),we=a(100),ke=a(62),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showAppLoader:!0,showSignup:!1,showFP:!1,user:null,name:null,email:null,password:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_APP_STATE":return Object(ke.a)({},e,t.state);default:return e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{input:"",list:[],displayList:[],currentTodoData:null,statusToggleData:null,doneTasks:0,dueDate:null,showListLoader:!0,filter:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":var a={};a.name=t.input,a.status="";var n=e.dueDate.getMonth()+1+"/"+e.dueDate.getDate()+"/"+e.dueDate.getFullYear();return a.dueDate=n,Object(ke.a)({},e,{currentTodoData:a,input:"",dueDate:null});case"ADD_DUE_DATE":return Object(ke.a)({},e,{dueDate:t.date});case"UPDATE_TODO_STATE":return Object(ke.a)({},e,t.state);case"DELETE_LIST":var r=e.list.filter(function(e,a){return e.id!==t.id}),o=e.displayList.filter(function(e,a){return e.id!==t.id}),c=r.filter(function(e,t){return"checked"===e.status}).length;return Object(ke.a)({},e,{list:r,displayList:o,doneTasks:c});case"STATUS_TOGGLE_TODO":var i=e.list.find(function(e){return e.id===t.id});i.text.status="checked"===i.text.status?"":"checked";var l=e.list.filter(function(e,t){return"checked"===e.text.status}).length;return Object(ke.a)({},e,{statusToggleData:i,doneTasks:l});default:return e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},Ae=Object(we.b)({app:Le,todos:Se,visibilityFilter:Ce}),Ie=(a(310),a(189)),Ne=Object(we.c)(Ae,{},Object(we.a)(Ie.a));Ne.subscribe(function(){console.log("Store updated!",Ne.getState())}),c.a.render(r.a.createElement(i.a,{store:Ne},r.a.createElement(Te,null)),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.986efb0f.chunk.js.map